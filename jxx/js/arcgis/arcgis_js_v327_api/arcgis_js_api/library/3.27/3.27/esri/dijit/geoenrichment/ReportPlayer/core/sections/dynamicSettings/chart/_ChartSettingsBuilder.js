// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/sections/dynamicSettings/chart/_ChartSettingsBuilder",["dojo/aspect","dojo/when","esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/ChartTypes","esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/ChartSorting","dojo/i18n!esri/nls/jsapi"],function(h,k,e,c,b){b=b.geoenrichment.dijit.ReportPlayer.SectionDynamicSettingsBuilder;var f={provideChartSettings:function(a){var d=a.getChartJson();if(!d||d.type===e.GAUGE)return null;var b=d&&!!d.seriesItems.length,
c=a.calculationStatesGroup,g=f._provideOptionsForSorting(d);return k(a.getChart().getFilterRanges(),function(e){if(!(b||g||c||e))return null;var f={canViewTable:b,group:c,sortingOptions:g,sorting:d.visualProperties.sorting,filterRanges:e,getNumAreasTotal:function(){return a.getChart().getNumAreasTotal()},getNumAreasShown:function(){return a.getChart().getNumAreasShown()},onContentUpdated:function(){}};h.after(a.getChart(),"onContentUpdated",function(){f.onContentUpdated()});return f})},_provideOptionsForSorting:function(a){return!a.isMultiFeatureChart&&
1===a.seriesItems.length&&e.isSortingEnabled(a.type)?[{label:b.noSorting,imageClass:"",value:c.NONE},{label:b.sortAscending,imageClass:"upButton",value:c.ASC},{label:b.sortDescending,imageClass:"downButton",value:c.DESC}]:null}};return f});