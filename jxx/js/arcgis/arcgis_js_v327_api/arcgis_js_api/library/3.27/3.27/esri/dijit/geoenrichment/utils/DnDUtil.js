// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/DnDUtil",["dojo/on","./DeviceUtil"],function(c,l){var f={MOBILE_TOLERANCE:10,LONG_PRESS_TIMEOUT:500,addNoDragClickHandler:function(d,c,a){a=a||{};return l.isMobileDevice()?f._addMobile(d,c,a):f._addPC(d,c,a)},_addPC:function(d,f,a){var g=a.tolerance||0,h,b,e=c(d,"mousedown",function(a){b&&b.remove();var d=a.clientX,e=a.clientY,k;h=c(document.body,"mousemove",function(a){var c=a.clientY;if(0<Math.abs(a.clientX-d)||0<Math.abs(c-e))k=!0});b=c.once(document.body,
"mouseup",function(a){h.remove();var c=a.clientX,b=a.clientY;!k&&Math.abs(c-d)<=g&&Math.abs(b-e)<=g&&f(a)})});return{remove:function(){h&&h.remove();b&&b.remove();e&&e.remove()}}},_addMobile:function(d,l,a){function g(){e&&e.remove();m&&m.remove();n&&n.remove();clearTimeout(p)}var h=a.tolerance||f.MOBILE_TOLERANCE,b,e,m,n,p;b=c(d,"touchstart",function(b){function k(a){return Math.abs(b.clientX-a.clientX)<h&&Math.abs(b.clientY-a.clientY)<h}g();var q;if(a.detectLongPress){var r;m=c(d,"touchmove",function(a){r=
a});p=setTimeout(function(){k(r||b)&&(a.ignoreReleaseIfLongPressHappened&&(q=!0),a.longPressCallback(b))},a.longPressTimeout||f.LONG_PRESS_TIMEOUT)}e=c.once(d,"touchend",function(a){!q&&k(a)&&l(a);g()});n=c.once(d,"touchcancel",g)});return{remove:function(){b&&b.remove();g()}}}};return f});