// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/conditionalStyling/ConditionalStyleLegendBuilder","dojo/string dojo/dom-class dojo/dom-construct dojo/dom-style ../images/ImageDataHolder ./ConditionalStyleUtil esri/dijit/geoenrichment/utils/ObjectUtil dojo/i18n!esri/nls/jsapi".split(" "),function(e,h,b,p,q,m,n,d){d=d.geoenrichment.dijit.ReportPlayer.ConditionalLegend;var c={},r={"\x3d":"equals","\x3c":"less","\x3e":"greater","\x3c\x3d":"lessOrEquals","\x3e\x3d":"greaterOrEquals"};
c.createLegendNode=function(c,f,t){function u(a){function b(a){var b=n.parseNumber(a);return isNaN(b)?a:n.formatNumber(b)}if(!a.compareInfos||!a.compareInfos.length)return!1;if("image"===f&&"default"===a.compareInfos[0].value)return d.conditionalLegend_default;a=a.compareInfos.map(function(a){return e.substitute(d["conditionalLegend_operator_"+r[a.operator]],{value:b(a.value)})});return 1===a.length?a[0]:e.substitute(d.conditionalLegend_interval,{from:a[0],to:a[1]})}if(!f)return null;var l=b.create("div",
{"class":"esriGEConditionalStylingLegend esriGEConditionalStylingLegend_"+f});b.create("div",{"class":"esriGEConditionalStylingLegend_row",innerHTML:d.conditionalLegend_title},l);var v=m.getMatchedCase(t,c);c.cases.some(function(a){var c=u(a),e=m.styleFromSetters(a.setters);if(c&&e){var k=b.create("div",{"class":"esriGEConditionalStylingLegend_row"},l),g=b.create("div",{"class":"dijitInline"},k);"image"===f?b.create("div",{"class":"esriGEConditionalStylingLegend_symbolImage dijitInline"},g).style.backgroundImage=
"url("+(q.getImageData(a.setters[0].value)||"")+")":("chart"===f?h.add(g,"esriGEConditionalStylingLegend_symbolChart"):(h.add(g,"esriGEConditionalStylingLegend_text"),g.innerHTML=d.conditionalLegend_preview),p.set(g,e));b.create("div",{"class":"dijitInline esriGESpaceBeforeBig",innerHTML:c},k);v===a&&h.add(k,"esriGEConditionalStylingLegend_currentValue")}});return l};return c});