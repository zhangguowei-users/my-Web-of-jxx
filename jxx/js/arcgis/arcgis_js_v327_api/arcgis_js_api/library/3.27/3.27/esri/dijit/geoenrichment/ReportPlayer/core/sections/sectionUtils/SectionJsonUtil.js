// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/sections/sectionUtils/SectionJsonUtil",["esri/dijit/geoenrichment/ReportPlayer/core/sections/SectionTypes"],function(g){var e={wrapInDetailsSectionJson:function(a,b){a=Array.isArray(a)?a:[a];var c=a.some(function(a){return"table"===a.id&&a.attributes&&(0<a.attributes.dynamicColumns||0<a.attributes.dynamicRows)});return{type:b||(c?g.GROUP:g.DETAILS),stack:a}},getSectionJsonInfographic:function(a){return(a=a.stack&&a.stack[0])&&"table"===a.id&&e.getTableJsonInfographic(a)},
tableJsonHasInfographic:function(a){return!!e.getTableJsonInfographic(a)},getTableJsonInfographic:function(a){var b;a.data.data.some(function(a){if(a.fieldInfos)for(var d in a.fieldInfos){var c=a.fieldInfos[d];if(c&&c.isInfographic)return b=c.infographicJson,!0}});return b},getTableJsonFirstFieldInfo:function(a){return a.data.data[0].fieldInfos[a.data.columns[0].field]},tableJsonHasChart:function(a){return a.data.data.some(function(a){if(a.fieldInfos)for(var c in a.fieldInfos){var b=a.fieldInfos[c];
if(b&&b.isChart)return!0}})},calcSectionJsonBox:function(a){var b,c,d,f;function e(a){b=Math.min(b,a.l);c=Math.min(c,a.t);d=Math.max(d,a.l+a.w);f=Math.max(f,a.t+a.h)}c=b=Infinity;f=d=0;a.stack&&a.stack.forEach(function(a){switch(a.id){case "table":var b=0;a.data.data.forEach(function(a){b+=a.style.height});e({l:a.style.left,t:a.style.spaceBefore,w:a.style.width,h:b});break;case "img":e({l:a.style.left,t:a.style.top,w:a.style.width,h:a.style.height})}});return{w:d+b,h:f+c,contentW:d-b,contentH:f-c}}};
return e});