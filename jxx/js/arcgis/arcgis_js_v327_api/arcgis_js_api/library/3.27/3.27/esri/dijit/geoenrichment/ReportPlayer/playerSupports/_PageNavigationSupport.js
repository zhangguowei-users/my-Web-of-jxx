// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/playerSupports/_PageNavigationSupport","dojo/_base/declare dojo/on dojo/dom-class dojo/dom-geometry dojo/dom-style ../PlayerResizeModes ../PlayerViewModes esri/dijit/geoenrichment/utils/DomUtil esri/dijit/geoenrichment/utils/TooltipUtil dojo/i18n!esri/nls/jsapi".split(" "),function(k,e,f,l,g,m,c,d,h,b){b=b.geoenrichment.dijit.ReportPlayer.ReportPlayer;return k(null,{_currentPageIndex:null,_initPageNavigationControls:function(){var a=this;this.viewMode===
c.FULL_PAGES&&(e(this.prevPageButton,"click",function(){a._showPrevPage()}),e(this.nextPageButton,"click",function(){a._showNextPage()}),d.hide(this.sidePageNavigator),this.playerToolbar.onShowPageAt=this.showPageAt.bind(this),h.setTooltipToNode(this.prevPageButton,b.previousPage),h.setTooltipToNode(this.nextPageButton,b.nextPage))},showPageAt:function(a){this.viewMode===c.FULL_PAGES&&(a=Math.max(0,a),this._currentPageIndex=a=Math.min(this.getCurrentReportContainer().getNumberOfPages()-1,a),this.getCurrentReportContainer().showPageAt(a),
this._updatePageNavigator())},_updatePageNavigator:function(){var a=this.getCurrentReportContainer()&&this.getCurrentReportContainer().getNumberOfPages&&this.viewMode===c.FULL_PAGES;this.playerToolbar.setPageControlsVisible(a);if(a){a=this.getCurrentReportContainer().getNumberOfPages();d[1===a?"hide":"show"]([this.sidePageNavigator]);f[0===this._currentPageIndex?"add":"remove"](this.prevPageButton,"disabled");f[this._currentPageIndex===a-1?"add":"remove"](this.nextPageButton,"disabled");if(this.resizeMode===
m.FIT_WINDOW){var b=l.position(this.getCurrentReportContainer().stackContainer);g.set(this.sidePageNavigator,"left",Math.min(b.x+b.w+20,document.body.clientWidth-70)+"px");g.set(this.sidePageNavigator,"top",Math.max(60,b.y+10)+"px")}this.playerToolbar.updatePageSelect(a,this._currentPageIndex)}else d.hide([this.sidePageNavigator])},_showPrevPage:function(){0!==this._currentPageIndex&&(this._currentPageIndex--,this.showPageAt(this._currentPageIndex))},_showNextPage:function(){this._currentPageIndex!==
this.getCurrentReportContainer().getNumberOfPages()-1&&(this._currentPageIndex++,this.showPageAt(this._currentPageIndex))}})});