// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/symbols/HighlightedSymbolGenerator","dojo/_base/lang dojo/_base/Color dojo/Deferred dojo/when esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/jsonUtils esri/renderers/jsonUtils esri/dijit/geoenrichment/utils/ColorUtil".split(" "),function(l,e,q,m,n,p,f,r,d){var h={getHighlightSymbol:function(a){function b(b,d){b=d?r.fromJson(l.clone(d)).getSymbol(b):b.symbol||c.renderer&&c.renderer.getSymbol(b);m(e(b.toJson())||
{symbol:a.defaultHighlightSymbol},f.resolve)}function e(b){switch(b.type){case "esriSMS":return h._highlightSMS(b);case "esriPMS":return h._highlightPMS(b);case "esriSFS":return h._highlightSFS(b,a.outlineOnly)}}var k=a.graphic,c=a.graphicsLayer,g=a.rendererJson,f=new q;if(k)b(k);else if(c&&!g)if(c.graphics.length)b(c.graphics[0]);else var d=c.on("graphic-add",function(){d.remove();b(c.graphics[0])});else g&&("uniqueValue"===g.type?c.graphics.length?b(c.graphics[0],g):d=c.on("graphic-add",function(){d.remove();
b(c.graphics[0],g)}):(k=l.clone(g.symbol),m(e(k)||{symbol:a.defaultHighlightSymbol},f.resolve)));return f.promise},_highlightSMS:function(a){a.size*=1.1;if(a.color){var b=d.getHighlightColor(new e(a.color.slice(0,3)));a.color[0]=b.r;a.color[1]=b.g;a.color[2]=b.b}return{symbol:f.fromJson(a)}},_highlightPMS:function(a){a.width*=1.1;a.height*=1.1;a.xoffset*=1.1;a.yoffset*=1.1;var b=new n(n.STYLE_SQUARE,Math.max(a.width,a.height)/.75,new p(p.STYLE_SOLID,new e([255,255,0,.7]),2),new e([0,0,0,0]));return{symbol:f.fromJson(a),
frameSymbol:b}},_highlightSFS:function(a,b){a.color&&!b&&(b=d.getHighlightColor(new e(a.color.slice(0,3))),a.color[0]=b.r,a.color[1]=b.g,a.color[2]=b.b);a.outline&&a.outline.color&&(b=d.getHighlightColor(new e(a.outline.color.slice(0,3))),a.outline.color[0]=b.r,a.outline.color[1]=b.g,a.outline.color[2]=b.b);return{symbol:f.fromJson(a)}}};return h});