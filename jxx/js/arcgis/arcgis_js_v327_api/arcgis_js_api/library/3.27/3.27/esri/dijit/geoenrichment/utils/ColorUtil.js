// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/ColorUtil",["dojo/_base/Color","dojox/color/_base","dojox/color/Palette"],function(f,h,l){function k(a,b,c){return Math.round((a&255)*(1-c)+(b&255)*c)}var e={toCSSColor:function(a,b,c){"string"!=typeof a||/^0x/i.test(a)||(a=f.fromString(a));if(a instanceof f)return b||1==a.a?a.toHex():a.toCss(!0);if(null==a||isNaN(a))return c?e.toCSSColor(c,b):"#000000";a="00000"+Number(a).toString(16);return"#"+a.substr(a.length-6)},toColor:function(a,b){return"object"==typeof a?
(new f).setColor(a):f.fromString(e.toCSSColor(a,!1,b))},transform:function(a,b){var c=new l;c.colors=[new f(a)];return c.transform({use:"hsv",dh:b.dh||0,ds:b.ds||0,dv:b.dv||0}).colors[0]},generateAnalogousColorScheme:function(a,b,c){return l.generators.analogous({base:a,high:b,low:c}).colors},generateGradient:function(a,b){a=a.map(e.toRGBColor);var c=[];if(0==a.length-1||1==b){a=a[0];for(var d=0;d<b;d++)c.push(a);return c}for(var g=1/(b-1),d=0;d<b;d++)c.push(e.getGradientRGBColor(a,d*g));return c},
getGradientRGBColor:function(a,b,c){var d=a.length-1,g=1>d||0>=b?0:1<=b?d:-1;if(0<=g)return a[g];b*=d;g=Math.floor(b);g==d&&g--;return e.mixRGBColors(a[g],a[g+1],b-g,c)},mixRGBColors:function(a,b,c,d){1<c?c=1:0>c&&(c=0);var e=k(a,b,c),f=k(a>>8,b>>8,c),h=k(a>>16,b>>16,c);return((d?k(a>>24,b>>24,c):0)<<24)+(h<<16)+(f<<8)+e},toRGBColor:function(a,b){a=e.toCSSColor(a,!0,b);return parseInt("0x"+a.substr(1))},getContrastColor:function(a,b,c,d){return e.isLightColor(a,d)?e.toColor(b,"#000000"):e.toColor(c,
"#FFFFFF")},getHighlightColor:function(a,b){b=b||{};var c=b.saturation||100,d=b.luminosity1||75;b=b.luminosity2||50;a=new h.Color(a);x=a.toHsl();0===x.s?x.l=50>x.l?x.l+30:x.l-20:(x.s=c,x.l=x.l<b?d:x.l>d?b:x.l-b>d-x.l?b:d);c=h.fromHsl(x);c.a=a.a;return c},getLightness:function(a){a=e.toRGBColor(a);return(299*(a>>16&255)+587*(a>>8&255)+114*(a&255))/1E3},isLightColor:function(a,b){return e.getLightness(a)>=(void 0===b?128:b)},colorsEqual:function(a,b){a instanceof f||(a=e.toColor(a));b instanceof f||
(b=e.toColor(b));return a.a==b.a&&a.r==b.r&&a.g==b.g&&a.b==b.b},isTransparent:function(a){a=e.toCSSColor(a);return"rgba(0,0,0,0)"===a.toLowerCase().replace(/\s/g,"")},generateRandomColor:function(a){function b(){return c+Math.round((d-c)*Math.random())}a=a||{};var c=a.min||0,d=a.max||255,e=a.randomizeAlpha?b():1;return a.grayScheme?(a=b(),new f([a,a,a,e])):new f([b(),b(),b(),e])}};return e});