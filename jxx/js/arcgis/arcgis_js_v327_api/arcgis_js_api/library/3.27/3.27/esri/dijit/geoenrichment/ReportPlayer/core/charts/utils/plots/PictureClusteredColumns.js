// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/plots/PictureClusteredColumns","dojo/_base/Color dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/utils ./_ClusteredColumnsBase ./pictureUtil/Converter ../../../supportClasses/images/ImageDataHolder".split(" "),function(x,k,y,u,z,q,v,A){return k(q,{_drawColumn:function(c,e,f,a,n,l,d,r){return this._drawColumnPictures(c,e.icon||v.DEFAULT_SHAPE,e.bgIcon,f,a,n,l,d,r,!e.icon)},_drawColumnPictures:function(c,e,f,a,n,l,d,r,k,q){function w(a,
g){var c=y.mixin({},g),b=a.shapeJson||a.imageJson;a=!!a.shapeJson;if(b){for(var e=g.width/b.style.width,m=b.style.height*e,d=Math[n.series.showWholePictures&&!q?"floor":"ceil"](g.height/m),f=0;f<d;f++){var p=t.createGroup();if(a){var h=v.shapeJsonToGFXJson(b);try{z.deserialize(p,h)}catch(B){console.log(B)}}else p.createImage({x:0,y:0,width:b.style.width,height:b.style.height,src:A.getImageData(b.fileName)});f===d-1&&(h=(m-(d*m-g.height))/e,p.setClip({x:0,y:b.style.height-h,width:b.style.width,height:h}));
var h=g.x,k=g.y+g.height-(f+1)*m,l=e;b.style.zoom&&(h-=g.width*(b.style.zoom-1)/2,k-=m*(b.style.zoom-1)/2,l*=b.style.zoom);p.applyTransform(u.matrix.translate(h,k));p.applyTransform(u.matrix.scale(l))}n.series.showWholePictures&&(c.height=d*m,c.y+=g.height-c.height);return c}}var t=c.createGroup();c={x:a.x,y:d.t,width:a.width,height:l.height-d.t-d.b-k};this.createRect(r,t,c).setFill(new x([0,0,0,.001]));n.series.showColumnBarBackground&&f&&w(f,c);a=w(e,a);return{shape:t,rect:a}}})});