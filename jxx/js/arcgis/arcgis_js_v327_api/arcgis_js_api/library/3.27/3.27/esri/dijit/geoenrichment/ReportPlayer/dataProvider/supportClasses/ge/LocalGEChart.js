// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProvider/supportClasses/ge/LocalGEChart",["dojo/_base/declare","dojo/_base/lang","./LocalGEBase","../AreaDataUtil"],function(f,g,h,k){return f(h,{_areaIdToFeatureCache:null,_fieldNameToPointCache:null,constructor:function(b,d,a,c,e,f){this._fieldNameToPointCache={};b[0]&&b[0].points.forEach(function(a){a.fieldInfo&&(this._fieldNameToPointCache[a.fieldInfo.name]=a)},this);(this._skipThisArea=c)?(a=k.combineAreaDataObjectCalculators(a,d,{removeDuplicates:!0}),
c=a.thisAreas.map(function(a,b){a=g.mixin({},a);a.StdGeographyName=e[b];a.isThisArea=!0;return a}),b={},b[d]={data:c.shift(),comparisonLevels:c.concat(a.comparisonLevels)}):b=a[f||0];this._initGE(null,b,d)},getFieldValueAt:function(b,d){this._areaIdToFeatureCache||(this._areaIdToFeatureCache=[],this.getData().features.forEach(function(a){a.attributes.StdGeographyID&&(this._areaIdToFeatureCache[a.attributes.StdGeographyID]=a)},this));return(d=this._areaIdToFeatureCache[d])&&d.attributes[b]||0},_createField:function(b,
d){var a=this.inherited(arguments),c=this._fieldNameToPointCache[b];if(c&&c.fieldInfo){var e=c.fieldInfo;a.alias=c.label||e.alias;a.decimals="number"===typeof e.decimals?e.decimals:-1;a.units=e.showPercent?"pct":e.showCurrency?"currency":a.units;a.type=e.type||a.type}else a.noVariableField=!0;return a},_filterAttributeField:function(b){return!b.noVariableField}})});