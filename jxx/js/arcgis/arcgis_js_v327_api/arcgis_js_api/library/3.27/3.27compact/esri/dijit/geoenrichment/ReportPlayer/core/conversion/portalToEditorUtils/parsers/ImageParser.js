// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.27/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/conversion/portalToEditorUtils/parsers/ImageParser",["../../ConversionUtil","./AlignParser"],function(d,k){var h={getElement:function(f,e){var a=f.attributes,b="mapImage"===f.name,g=b?null:e.processFileName(a.src),c={id:"img",fileName:g,isMapImage:b,circularMask:a.circularMask,scaleToCover:a.scaleToCover,style:{top:d.ptToPx(a.top)||0,left:d.ptToPx(a.left)||0,width:d.ptToPx(a.width),height:d.ptToPx(a.height),angle:Number(a.angle)||0,opacity:Math.min(1,
Number(0===a.opacity?0:a.opacity||1))},isLogoPlaceholder:a.isLogoPlaceholder,dynamicBehavior:a.dynamicBehavior};b&&(b=e.templateJson.metadata.mapImageInfosHash[a.name],c.webMapId=b?b.webMapId:a.webMapId,c.defaultBasemapId=b?b.defaultBasemapId:a.defaultBasemapId,c.mapScale=b?b.mapScale:null,c.calculatorFieldName=b&&b.fieldName,c.additionalLayerInfos=b&&b.additionalLayerInfos,c.pinSymbolJson=b&&b.pinSymbolJson,c.showMapLegend=a.showMapLegend);k.parseAlign(a,c.style);1>e.revisionVersion&&(c.style.angle=
d.ptToPx(c.style.angle),c.style.opacity=Math.min(1,d.ptToPx(c.style.opacity)));g&&e.putImageData(g,a.data);e.postProcessImageJson&&e.postProcessImageJson(f,c);return c},parseMapImageDField:function(d,e){return h.getElement({name:"mapImage",attributes:{name:d}},e)}};return h});